pipeline:
  name: dp_data_pipeline
  version: v1
  execution_mode: batch
  random_seed: 42

source:
  database:
    type: postgresql
    host: DB_HOST
    port: DB_PORT
    schema: public
    user_env: DB_USER
    password_env: DB_PASS

extraction:
  tables:

    - name: funcionarios
      columns:
        - id
        - nome
        - sobrenome
        - cpf
        - email
        - id_setor
        - salario
        - data_nascimento
        - data_admissao
        - id_cargo

    - name: avaliacoes
      columns:
        - id
        - id_funcionario
        - nota
        - data_avaliacao

    - name: beneficios
      columns:
        - id
        - nome

    - name: beneficio_funcionario
      columns:
        - id
        - id_funcionario
        - id_beneficio
        - ativo

    - name: setores
      columns:
        - id
        - nome
        - id_gerente

    - name: cargos
      columns:
        - id
        - nome
        - ativo

privacy:
  sensitive_attributes:
    salario
        min: 1200
        max: 120 000
    nota_media
        min: 0.00
        max: 10.00
    idade
        min: 19
        max: 87
    tempo_na_empresa
        min: 0
        max: 68


  mechanisms:
    - name: laplace
      epsilons: [0.1, 0.5, 1.0, 2.0]
      seed: 42

versioning:
  output_dir: datasets
  include_baseline: true

metadata:
  record:
    - execution_time
    - source_hash
    - epsilon
    - mechanism
    - affected_columns
